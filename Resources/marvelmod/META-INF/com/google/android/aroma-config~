### LICENSE:
#
# Copyright (C) 2011 Ahmad Amarullah ( http://amarullz.com/ )
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
### FILE INFO:
#
# AROMA Installer 2.00 - AROMA Installer Test Script Configuration
#       (c) 2011-2012 by Ahmad Amarullah
#           amarullz - xda-developers
#           http://www.amarullz.com/
#
#       Binary Version  : 2.00
#       Binary Codename : Dahlia
#
### INFO:
#
# * AROMA Resource Dir  = META-INF/com/google/android/aroma
#
# * AROMA Temporary Dir = /tmp/aroma/
#
# * About Icon          = @alert - show <AROMA Resource Dir>/icons/alert.png
#                         or if theme used it will find <themedir>/icon.alert.png
#                         you can still access it via "icons/alert"
#
# * dp                  = Device Pixelate. WVGA/QHD = 3, HVGA = 2.
#                         dp calculated with = round(min(width,height) / 160)
#
###

##
# Fix Colorspace Issue
#
# For device which have a problem with color ( not display the correct color )
# try to set "force_colorspace" with ini_set. It may caused by wrong framebuffer
# information that passed by kernel into framebuffer device.
#
# You can use one of following values:
#   "rgba", "abgr", "argb", "bgra"
#
# NOTE: It must be in top most script, or you will got the color flicker
#
# ini_set("force_colorspace","rgba");
#

##
# Forcing Device Pixelate Size
#  defaut: floor( min( width, height ) / 160 )
#
# Usefull for tablet device, if interface was too big, you can
# force dp size for smaller UI size.
#
#-------- Uncomment one of this to use custom dp size:
#
# ini_set("dp","1"); #-- LDPI ( 240x320 / QVGA )
# ini_set("dp","2"); #-- MDPI ( 340x480 / HVGA )
# ini_set("dp","3"); #-- HDPI ( 480x800 / WVGA )
# ini_set("dp","4");
# ini_set("dp","5");
#


##
# Calibrate Touchscreen
#  defaut: HTC Desire Touch Screen Calibrate Data [7.90,20,7.90,20]
#
# For other device, run the installer, then press "menu"
# and select Calibrating Tools. Follow Instructions, and make
# sure the touch screen has been valid in the testing step.
#
# In the end, there will be alert dialog with calibration data
# ( green ), replace this calibrate() function with that data.
#
#-------- Uncomment This to insert calibrating data:
calibrate("2.7800","25","1.8543","12");
#


##
# Custom Key Code - Usefull For Some Device which not used
#                   Standard key code for up/down/select/back/menu
#
# You can capture the keycode in
# recovery using "aroma-keycapture-flashable.zip" Available in
# AROMA Installer Thread.
#
# Press some key when it run, it will return key code,
# that key can override up/down/select/back/menu actions in
# AROMA Installer, you can even set your home key for up, or
# volume down for select item
#
#-------- Uncomment & Modify this Code:
#
# ini_set("customkeycode_up",     "115");
# ini_set("customkeycode_down",   "114");
# ini_set("customkeycode_select", "116");
# ini_set("customkeycode_menu",   "229");
# ini_set("customkeycode_back",   "158");
#

##
# Initializing Rom Information
#
ini_set("rom_name",             "MarvelMOD");
ini_set("rom_version",          "1.0");
ini_set("rom_author",           "dudeman1996");
ini_set("rom_device",           "HTC Wildfire S");
ini_set("rom_date",             "TBA");


##
# Show Simple Splash
#
splash(
  #-- Duration 2000ms / 2 seconds
    2000,
  
  #-- <AROMA Resource Dir>/sample.png
    "sample"
);

##
# Show Animated Splash
#
anisplash(
  #-- Number of Loop
    4,
  
  #-- Frame 1 [ Image, duration in millisecond ]. <AROMA Resource Dir>/splash/a[1..6].png
    "splash/a1", 500,
    "splash/a2", 30,
    "splash/a3", 30,
    "splash/a4", 30,
    "splash/a5", 30,
    "splash/a6", 30
);

##
# Show Calibrating Tools Directly before show any UI
#
#--- Remove this calibtool if you already know the calibrate data
# calibtool("");

#
# Set Small Font to Support all fonts
#
fontresload( "0", "ttf/DroidSans.ttf;ttf/DroidSansArabic.ttf;ttf/DroidSansFallback.ttf;", "12" ); #-- Use sets of font (Font Family)

###################################################################################################################
#
# SHOW LANGUAGE SELECTION
#
selectbox(
  #-- Title
    "Select Language",
  
  #-- Sub Title
    "Please select the language that you want to use during this installation",
  
  #-- Icon: <AROMA Resource Dir>/icons/personalize.png or <ThemeDir>/icon.personalize.png
    "@default",
  
  #-- Will be saved in /tmp/aroma/theme.prop
    "lang.prop",
  
  #---------------------------------[ Selectbox Without Group ]----------------------------------#
  # TITLE            |  SUBTITLE                                                 | Initial Value #
  #------------------+-----------------------------------------------------------+---------------#

    "English",            "Welcome to Installer",                                        1,      #-- selected.0 = 1
    "Indonesian",         "Selamat datang di Installer",                                 0,      #-- selected.0 = 2
    "Espanol",            "Bienvenido al Instalador",                                    0,      #-- selected.0 = 3
    "Simplified Chinesse","欢迎到安装",                                                    0,      #-- selected.0 = 4
    "Arabic",             "مرحبا بكم في المثبت",                                               0,      #-- selected.0 = 5        
    "French",             "Bienvenue dans l'installateur",                               0,      #-- selected.0 = 6
    "Russian",            "Добро пожаловать в установщик",                               0,      #-- selected.0 = 7
	"Italian",            "Benvenuti Installer",                                         0,      #-- selected.0 = 8
	"Hebrew",             "ברוכים הבאים להתקנה",										     0,		 #-- selected.0 = 9
	"Germany",            "Willkommen bei Installer",									 0 		 #-- selected.0 = 10
  #--------[ Initial Value = 0: Unselected, 1: Selected, 2: Group Item, 3: Not Visible ]---------#
);

##
# SET LANGUAGE & FONT FAMILY
#
if prop("lang.prop","selected.0")=="1" then
  loadlang("langs/en.lang");
  fontresload( "0", "ttf/DroidSans.ttf", "12" ); #-- "0" = Small Font ( Look at Fonts & UNICODE Demo Below )
  fontresload( "1", "ttf/DroidSans.ttf", "18" ); #-- "1" = Big Font
endif;

if prop("lang.prop","selected.0")=="2" then
  loadlang("langs/id.lang");
  fontresload( "0", "ttf/DroidSans.ttf", "12" );
  fontresload( "1", "ttf/DroidSans.ttf", "18" );
endif;

if prop("lang.prop","selected.0")=="3" then
  loadlang("langs/es.lang");
  fontresload( "0", "ttf/DroidSans.ttf", "12" );
  fontresload( "1", "ttf/DroidSans.ttf", "18" );
endif;

if prop("lang.prop","selected.0")=="4" then
  loadlang("langs/cn.lang");
  fontresload( "0", "ttf/DroidSansFallback.ttf;ttf/DroidSans.ttf", "12" ); #-- Use sets of font (Font Family)
  fontresload( "1", "ttf/DroidSansFallback.ttf;ttf/DroidSans.ttf", "18" );
endif;

if prop("lang.prop","selected.0")=="5" then
  loadlang("langs/ar.lang");
  fontresload( "0", "ttf/DroidSansArabic.ttf;ttf/DroidSans.ttf", "12" ); #-- Use sets of font (Font Family)
  fontresload( "1", "ttf/DroidSansArabic.ttf;ttf/DroidSans.ttf", "18" );
endif;

if prop("lang.prop","selected.0")=="6" then
  loadlang("langs/fr.lang");
  fontresload( "0", "ttf/DroidSans.ttf", "12" );
  fontresload( "1", "ttf/DroidSans.ttf", "18" );
endif;

if prop("lang.prop","selected.0")=="7" then
  loadlang("langs/ru.lang");
  fontresload( "0", "ttf/DroidSans.ttf", "12" );
  fontresload( "1", "ttf/DroidSans.ttf", "18" );
endif;

if prop("lang.prop","selected.0")=="8" then
  loadlang("langs/it.lang");
  fontresload( "0", "ttf/DroidSans.ttf", "12" );
  fontresload( "1", "ttf/DroidSans.ttf", "18" );
endif;

if prop("lang.prop","selected.0")=="9" then
  loadlang("langs/he.lang");
  fontresload( "0", "ttf/DroidSans.ttf", "12" );
  fontresload( "1", "ttf/DroidSans.ttf", "18" );
endif;

if prop("lang.prop","selected.0")=="10" then
  loadlang("langs/de.lang");
  fontresload( "0", "ttf/DroidSans.ttf", "12" );
  fontresload( "1", "ttf/DroidSans.ttf", "18" );
endif;

###################################################################################################################
#
# STEP 1 - SET THEME
#
theme("ics");


###################################################################################################################
#
# STEP 2 - SHOW ROM INFORMATION
#
viewbox(
  #-- Title
    "Welcome!",
  
  #-- Text
    "You are about to install <b>"+
	  #-- Get Config Value
	  ini_get("rom_name")+
	"</b> for <b>"+ini_get("rom_device")+"</b>.\n\n"+
    
    "MarvelMOD is a CM9-based ROM that's designed to be as customisable as possible.\n\n"+
	
      "  Verion\t: <b><#selectbg_g>"+ini_get("rom_version")+"</#></b>\n"+
      "  Updated\t: <b><#selectbg_g>"+ini_get("rom_date")+"</#></b>\n\n\n"+

    "Press next to continue the installation.",
  
  #-- Icon
    "@welcome"
);


###################################################################################################################
#
# STEP 3 - LICENSE
#
agreebox(
  #-- Title
    "License for use",
  
  #-- Subtitle / Description
    "Please make sure you read the license below carefully",
  
  #-- Icon
    "@license",
  
  #-- Text Content ( Read from <AROMA Resource Dir>/license.txt )
    resread("license.txt"),
  
  #-- Checkbox Text
    "I agree to abide by this license",
  
  #-- Unchecked Alert Message
    "Please confirm you will abide by the terms of the license above to continue"
);


###################################################################################################################
#
# STEP 6 - SHOW MENUBOX - INSTALLATION TYPE
#
menubox(
  #-- Title
    "Installation Type",
  
  #-- Sub Title
    "Each option uses the standard CM9 base, with performance/battery tweaks by dudeman1996."+
    "Choose the installation type that best suits your needs.",
  
  #-- Icon
    "@install",
    
  #-- Will be saved in /tmp/aroma/type.prop
    "type.prop",
    
  #-------------------------+-----------------[ Menubox Items ]-------------------------+---------------#
  # TITLE                   |  SUBTITLE                                                 |   Item Icons  #
  #-------------------------+-----------------------------------------------------------+---------------#
	
    "Default",                "Will install default features and configurations",          "@install",      #-- selected = 1
    "Minimalist",             "Only required features will be installed",                  "@apps",         #-- selected = 2
    "Custom",                 "Choose which program or mod features you want to installed."+
                              "Recommended for full customisation",                        "@customize"     #-- selected = 3
);


###################################################################################################################
#
# STEP 7 - SELECT MAIN MODS
#
if (prop("type.prop","selected")=="1") then
  #-- IF "Default" Installation, don't show configuration, then write default mods.prop
  #-- NOTE: mods.prop should exists, or updater-script will error
  writetmpfile(
    #-- Prop file will write to /tmp/aroma/mods.prop
	  "mods.prop",
	
	#-- Default Values
	  "selected.1=1\n"+    #-- Default Kernel = Stock CM9 
	  "selected.2=1\n"+    #-- Default Theme = Stock CM9 
	  "selected.3=1\n"+    #-- Default Boot Animation = Stock CM9
	  "selected.4=1\n"+    #-- Default SD-EXT Mods = None
	  "selected.5=1\n"+    #-- Default Keyboard = Stock CM9
	  "selected.6=1\n"+    #-- Default Audio Enhancements = None
	  "selected.7=1\n"+    #-- Default Music = Apollo
	  "selected.8=1\n"     #-- Default File Manager = None
  );
endif;

if (prop("type.prop","selected")=="2") then
  #-- IF "Default" Installation, don't show configuration, then write default mods.prop
  #-- NOTE: mods.prop should exists, or updater-script will error
  writetmpfile(
    #-- Prop file will write to /tmp/aroma/mods.prop
	  "mods.prop",
	
	#-- Default Values
	  "selected.1=1\n"+    #-- Default Kernel = Stock CM9 
	  "selected.2=1\n"+    #-- Default Theme = Stock CM9 
	  "selected.3=1\n"+    #-- Default Boot Animation = Stock CM9
	  "selected.4=1\n"+    #-- Default SD-EXT Mods = None
	  "selected.5=1\n"+    #-- Default Keyboard = Stock CM9
	  "selected.6=1\n"+    #-- Default Audio Enhancements = None
	  "selected.7=2\n"+    #-- Default Music = Stock CM9
	  "selected.8=1\n"     #-- Default File Manager = None
  );
endif;

if (prop("type.prop","selected")=="3") then
  #-- IF Not "Default" Show Main Features Selection
  selectbox(
    #-- Title
      "Main Features",
	  
    #-- Sub Title
      "Please select installer theme that you want to use in this installation test:",
	  
    #-- Icon: <AROMA Resource Dir>/icons/default.png or <ThemeDir>/icon.default.png
      "@default",
	  
    #-- Will be saved in /tmp/aroma/mods.prop
      "mods.prop",
	  
	  #-----------------------------------[ Selectbox With Groups ]----------------------------------#
	  # TITLE            |  SUBTITLE                                                 | Initial Value #
	  #------------------+-----------------------------------------------------------+---------------#

	  "Kernel",                "",                                                            2,  #-- Group 1. key = "selected.1"
	    "Standard CM9",        "The standard CM9 kernel",                                     1,      #-- selected.1 = 1
	    "Soul Engine",         "Soul Engine is a kernel developed by Benjamingwynn"+
                                   " including blah blah",                                        0,      #-- selected.1 = 2

          "Theme",                 "",                                                            2,  #-- Group 2. key = "selected.2"
	    "Stock CM9",           "The standard CM9 looks",                                      1,      #-- selected.2 = 1
	    "Glass",               "The standard CM9 looks, with a transparent status bar",       0,      #-- selected.2 = 2
            "MIUI",                "The standard CM9 looks, with the MIUI status bar",            0,      #-- selected.2 = 3
            "Reloaded ICS",        "The Reloaded ICS app by rob43 with tonnes of"+
                                   " customisation features",                                     0,      #-- selected.2 = 4

          "Boot Animation",        "",                                                            2,  #-- Group 3. key = "selected.3"
	    "Stock CM9 - CID",     "The standard CM9 CID boot animation",                         1,      #-- selected.3 = 1
	    "Stock CM9 - Andy",    "The old CM9 'Andy' boot animation",                           0,      #-- selected.3 = 2
	    "Nexus",               "Default Nexus Android boot animation",                        0,      #-- selected.3 = 3
	    "HTC Generic",         "Generic white HTC Quitely Briliant boot animation",           0,      #-- selected.3 = 4
	    "Beats Audo",          "The HTC Beats Audio boot animation",                          0,      #-- selected.3 = 5
	    "Disabled",            "Disable the boot animation for a slightly quicker boot time", 0,      #-- selected.3 = 6
      
	  "SD-EXT Mods",           "",                                                            2,  #-- Group 4. key = "selected.4"
	    "None",                "No apps will be moved to a 2nd SD card partition"+
                                   " just normal, built into Android apps2sd",                    1,      #-- selected.4 = 1
	    "Link2SD",             "The Link2SD app that allows you to 'link' individual"+
                    		   " applications to SD-EXT",                                     0,      #-- selected.4 = 2
	    "S2E",                 "The Simple2Ext app that only allows you to move ALL of"+
				   " the apps, dalvik cache and data to SD-EXT",                  0,      #-- selected.4 = 3
	  
	  "Keyboard",              "",                                                            2,  #-- Group 5. key = "selected.5"
	    "CM9 Keyboard",        "The stock keyboard that comes with CM9",                      1,      #-- selected.5 = 1
	    "Gingerbread",         "The stock Android 2.3 key",                                   0,      #-- selected.5 = 2
	  
	  "Audio Enhancements",    "",                                                            2,  #-- Group 6. key = "selected.6"
	    "None",                "No added sound changers",                                     1,      #-- selected.6 = 1
	    "Beats Audio",         "The Beats Audio enhancements by HTC to give a more"+
                                   " rich, bass enhancing sound",                                 0,      #-- selected.6 = 2

          "Music",                 "",                                                            2,  #-- Group 7. key = "selected.7"
            "Apollo",              "The Apollo music app created by the CyanogenMod Team",        1,      #-- selected.7 = 1
	    "Stock CM9",           "The stock CM9 music app",                                     0,      #-- selected.7 = 2
	    "MIUI",                "The MIUI 4 music app",                                        0,      #-- selected.7 = 3
            "Sense 4",             "The Sense 4 music app",                                       0,      #-- selected.7 = 4

          "File Managers",         "",                                                            2,  #-- Group 8. key = "selected.8"
            "None",                "No file managers",                                            1,      #-- selected.8 = 1
            "MIUI",                "The MIUI file manager ported",                                0,      #-- selected.8 = 2
	    "ES File Explorer",    "Easysoft File Explorer",                                      0       #-- selected.8 = 3

	  #--------[ Initial Value = 0: Unselected, 1: Selected, 2: Group Item, 3: Not Visible ]---------#
  );
endif;


###################################################################################################################
#
# STEP 8 - CUSTOMIZE YOUR INSTALLATION
#
if (prop("type.prop","selected")=="1") then
  #-- IF Installation type is "Default", don't show custom setup, then write default customize.prop
  #-- NOTE: customize.prop should exists, or updater-script will error
  writetmpfile(
    #-- Prop file will write to /tmp/aroma/customize.prop
	  "customize.prop",
	
	#-- Default Values ( item.x.x = value. value=1 selected, value=0 un-selected )
	  "item.1.1=1\n"+    #-- Facebook
	  "item.1.2=1\n"+    #-- Twitter
	  "item.1.3=0\n"+    #-- AdobeFlashPlayer
	  "item.1.4=1\n"+    #-- GMail
	  "iten.1.5=1\n"+    #-- AdFree
	  "item.1.6=1\n"+    #-- ROM Manager
	  "item.1.7=0\n"+    #-- XDA
	  "item.1.8=0\n"+    #-- QuickPic
	  "item.1.9=1\n"+    #-- ROM Toolbox Lite
	  "item.1.10=1\n"+   #-- Titanium Backup
	  "item.1.11=0\n"+   #-- SD Booster
	  
	  "item.2.1=1\n"+    #-- SetCPU
	  "item.2.2=0\n"+    #-- No-Frills
	  
	  "item.3.1=0\n"+    #-- Sense 4 Clock
	  "item.3.2=1\n"    #-- Battery Widget
  );
endif; 

if (prop("type.prop","selected")=="2") then
  #-- IF Installation type is "Minimal", don't show custom setup, then write minimalistic customize.prop
  #-- NOTE: customize.prop should exists, or updater-script will error
  writetmpfile(
    #-- Prop file will write to /tmp/aroma/customize.prop
	  "customize.prop",
	
	#-- Default Values ( item.x.x = value. value=1 selected, value=0 un-selected )
	  "item.1.1=0\n"+    #-- Facebook
	  "item.1.2=0\n"+    #-- Twitter
	  "item.1.3=0\n"+    #-- AdobeFlashPlayer
	  "item.1.4=0\n"+    #-- GMail
	  "item.1.5=0\n"+    #-- AdFree
	  "item.1.6=0\n"+    #-- ROM Manager
	  "item.1.7=0\n"+    #-- XDA
	  "item.1.8=0\n"+    #-- QuickPic
	  "item.1.9=0\n"+    #-- ROM Toolbox Lite
	  "item.1.10=0\n"+   #-- Titanium Backup
	  "item.1.11=0\n"+   #-- SD Booster
	  
	  "item.2.1=0\n"+    #-- SetCPU
	  "item.2.2=0\n"+    #-- No-Frills
	  
	  "item.3.1=0\n"+    #-- Sense 4 Clock
	  "item.3.2=0\n"     #-- Battery Widget
  );
endif; 

if (prop("type.prop","selected")=="3") then
  #-- IF Installation type = "Custom" Show Customize Selection
  checkbox(
    #-- Title
      "Customize Your Installation",
	  
    #-- Sub Title
      "Select the program or mod features you want to installed.\n"+
	  "Select an item in the list below to change how a feature is installed.",
	  
    #-- Icon: <AROMA Resource Dir>/icons/personalize.png or <ThemeDir>/icon.personalize.png
      "@personalize",
	  
    #-- Will be saved in /tmp/aroma/customize.prop
      "customize.prop",
	  
	  #------------------------------------------------[ Checkbox Without Group ]----------------------------------------------#
	  # TITLE            |  SUBTITLE                                                                           | Initial Value #
	  #------------------+-------------------------------------------------------------------------------------+---------------#

	  "Applications",         "",                                                                                  2,  #-- Group 1.
	    "Facebook",           "Share and stay connected with your friends with the Facebook for Android app",      1,      #-- item.1.1
	    "Twitter",            "Follow your interests: instant updates from your friends",                          1,      #-- item.1.2
	    "Adobe FlashPlayer",  "Bring the FULL web to your device with Flash Player",                               0,      #-- item.1.3
	    "GMail",              "The GMail app easily lets you view your emails from your GMail accounts",           1,      #-- item.1.4
	    "AdFree",             "Remove adverts from your phone",                                                    1,      #-- item.1.5
	    "ROM Manager",        "Make backups, flash ROMs, and own your device",                                     1,      #-- item.1.6
	    "XDA",                "The world famous XDA forums formatted for your Android phone! With this app you"+
				  " can browse the forums, read, post, send private messages, and more.",              0,      #-- item.1.7
	    "QuickPic",           "A quicker and clearer way to view your photos!",                                    0,      #-- item.1.8
	    "ROM Toolbox Lite",   "ROM Toolbox combines all the great root apps all tied up into one monster app"+
				  " with a beautiful and user-friendly interface",                                     1,      #-- item.1.9
	    "Titanium Backup",    "EXTREMELY powerful tool. Backup ALL apps, Market links, remove bloatware & MORE!",  1,      #-- item.1.10
	    "SD Booster",         "SD-Booster speeds up your external and internal SD-Card(s) (external and internal"+
				  " memory) up to 40 times! Recommended if using any Data2SD",                         0,      #-- item.1.11
      
	  "CPU Control",          "",                                                                                  2,  #-- Group 2.
	    "SetCPU",             "The SetCPU app lets you change the min/max clock speed, the governer"+
				  " and lets you set profiles to change settings under certain conditions",            1,      #-- item.2.1
	    "No-Frills",          "The No-Frills app lets you change the min/max clock speed, the governer"+
                                  " and the I/O scheduler.",                                                           0,      #-- item.2.2
      
	  "Widgets",              "",                                                                                  2,  #-- Group 3.
            "Sense 4 Clock",      "HTC Clock sense 4.0 mod",                                                           0,      #-- item.3.1
	    "Battery Widget",     "A small battery widget that tells you your batter percentage",                      1       #-- item.3.2
	
	  #--------[ Initial Value = 0: Unselected, 1: Selected, 2: Group Item, 3: Not Visible ]---------#
  );
endif;

###################################################################################################################
#
# Launcher customisation
#
if (prop("type.prop","selected")=="1") then
  #-- IF Installation type is "Default", don't show custom setup, then write default customize.prop
  #-- NOTE: customize.prop should exists, or updater-script will error
  writetmpfile(
    #-- Prop file will write to /tmp/aroma/launcher.prop
	  "launcher.prop",
	
	#-- Default Values ( item.x.x = value. value=1 selected, value=0 un-selected )
	  "selected=1\n"+     #-- Trebuchet
	  "selected=0\n"+     #-- ADW.Launcher
	  "selected=0\n"+     #-- GO Launcher EX
	  "selected=0\n"+     #-- MIUI Launcher
	  "selected=0\n"+     #-- MXHome
	  "selected=0\n"+     #-- Launcher 7
	  "selected=0\n"+     #-- Zeam Launcher
	  "selected=0\n"+     #-- Balancer Launcher
	  "selected=0\n"+     #-- Regina 3D Launcher
	  "selected=0\n"+     #-- Stock Gingerbread Launcher
	  "selected=0\n"+     #-- QQLauncher Pro
	  "selected=0\n"+     #-- Helix Launcher
	  "selected=0\n"+     #-- 360 Launcher
	  "selected=0\n"      #-- Nova Launcher
  );
endif; 

if (prop("type.prop","selected")=="2") then
  #-- IF Installation type is "Minimal", don't show custom setup, then write minimalistic customize.prop
  #-- NOTE: customize.prop should exists, or updater-script will error
  writetmpfile(
    #-- Prop file will write to /tmp/aroma/launcher.prop
	  "launcher.prop",
	
	#-- Default Values ( item.x.x = value. value=1 selected, value=0 un-selected )
	  "selected=1\n"+     #-- Trebuchet
	  "selected=0\n"+     #-- ADW.Launcher
	  "selected=0\n"+     #-- GO Launcher EX
	  "selected=0\n"+     #-- MIUI Launcher
	  "selected=0\n"+     #-- MXHome
	  "selected=0\n"+     #-- Launcher 7
	  "selected=0\n"+     #-- Zeam Launcher
	  "selected=0\n"+     #-- Balancer Launcher
	  "selected=0\n"+     #-- Regina 3D Launcher
	  "selected=0\n"+     #-- Stock Gingerbread Launcher
	  "selected=0\n"+     #-- QQLauncher Pro
	  "selected=0\n"+     #-- Helix Launcher
	  "selected=0\n"+     #-- 360 Launcher
	  "selected=0\n"      #-- Nova Launcher
  );
endif; 


if (prop("type.prop","selected")=="3") then
  #-- IF Installation type = "Custom" Show Customize Selection
  menubox(
    #-- Title
      "Launcher",
	  
    #-- Sub Title
      "Take your pick on a plethora of different launchers",
	  
    #-- Icon: <AROMA Resource Dir>/icons/default.png or <ThemeDir>/icon.default.png
      "@default",
	  
    #-- Will be saved in /tmp/aroma/launcher.prop
      "launcher.prop",
	  
	  #-----------------------------------[ Selectbox With Groups ]----------------------------------#
	  # TITLE            |  SUBTITLE                                                 | Initial Value #
	  #------------------+-----------------------------------------------------------+---------------#
	  
	    "Trebuchet",          "The stock launcher that comes with CM9",                 1,  #-- selected=1
	    "ADW.Launcher",       "One of the most stable launchers yet",                   0,  #-- selected=2
	    "GO Launcher EX",     "Themeable, configurable and stable",                     0,  #-- selected=3
	    "MIUI Launcher",      "Ported for MDPI phones. The brillent MIUI launcher",     0,  #-- selected=4
	    "MXHome",             "A new, redefined launcher",                              0,  #-- selected=5
	    "Launcher 7",         "Looks like Windows Phone 7 and is easy to use",          0,  #-- selected=6
	    "Zeam Launcher",      "The underdog minimalistic launcher for Android phones",  0,  #-- selected=7
	    "Balancer Launcher",  "Useful Launcher, good performance and UI",               0,  #-- selected=8
	    "Regina 3D Launcher", "The best 3D launcher around",                            0,  #-- selected=9
	    "Stock Gingerbread Launcher",     "A simple launcher from stock GB",            0,  #-- selected=10
	    "QQLauncher Pro",     "One of my favorite launchers of all time",               0,  #-- selected=11
	    "HelixLauncher",      "Experimental, VERY OLD launcher",                        3,  #-- selected=12
	    "360 Launcher",       "Clean and just amazing",                                 0,  #-- selected=13
            "Nova Launcher",      "Highly customizable, performance driven, home screen"+
                                  " replacement for Android 4.0+",                          0   #-- selected=14
 	   );
endif;


###################################################################################################################
#
# GPS Config
#
  menubox(
    #-- Title
      "GPS",
	  
    #-- Sub Title
      "To make sure you get the best experience with GPS, please choose your nearest location",
	  
    #-- Icon: <AROMA Resource Dir>/icons/default.png or <ThemeDir>/icon.default.png
      "@default",
	  
    #-- Will be saved in /tmp/aroma/gps.prop
      "gps.prop",
	  
	  #-----------------------------------[ Selectbox With Groups ]----------------------------------#
	  # TITLE            |  SUBTITLE                                                 | Initial Value #
	  #------------------+-----------------------------------------------------------+---------------#
	  
	    "Africa",          "Choose this if your nearest location is Africa",            0,  #-- selected=1
	    "Asia",            "Choose this if your nearest location is Asia",              0,  #-- selected=2
	    "Europe",          "Choose this if your nearest location is Europe",            1,  #-- selected=3
	    "North America",   "Choose this if your nearest location is North America",     0,  #-- selected=4
	    "South America",   "Choose this if your nearest location is South America",     0,  #-- selected=5
	    "Oceania",         "Choose this if your nearest location is Oceania",           0   #-- selected=6
 	   );


##
#
# Next Screen is Installation UI, So change the next button text to "Install Now"
#
ini_set("text_next", "Install Now");

###################################################################################################################
#
# STEP 9 - MAKE SURE USER KNOW THAT NEXT STEP WAS INSTALLATION PROCESS
#
viewbox(
  #-- Title
    "Ready to Install",

  #-- Text
    "The wizard is ready to begin installation.\n\n"+
	"Press <b>Install Now</b> to begin the installation.\n\n"+
	"If you want to review or change any of your installation settings, press <b>Back</b>. Press Menu Key -> Quit Installation to exit the wizard.",

  #-- Icon
    "@install"
);

##
#
# Next Button in successfull installation should be back to "Next >"
#
ini_set("text_next", "Next >");

#-- Extract sleep to /tmp/aroma/sleep. It will be used in updater-script for testing wait script
restotmp("exec_demo/sleep","sleep");


###################################################################################################################
#
# STEP 10 - INSTALLATION PROCESS
#
setvar("retstatus",
  install(
	#-- Title
      "Installing",
	
	#-- Installation Process message
	  "<b>"+ini_get("rom_name")+"</b> are being installed.\n\n"+
      "Please wait while installation wizard installs <b>"+ini_get("rom_name")+
	  "</b>. This may take several minutes.",
	
	#-- Installation Icon
      "@install",
	
	#-- Installation Finish Message
      "<b>"+ini_get("rom_name")+"</b> Has successfully been installed. Press Next to continue."
  )
);

##
#
# Next Button is "Finish"
#
ini_set("text_next", "Finish");

###################################################################################################################
#
# STEP 11 - FINISH MESSAGE, Add Checkbox to Reboot or No. Save in "reboot_it" variable
#
# You can use return value or "reboot_it" variable to retrive checkbox value
# Example:
# if (checkviewbox(....)=="1" then
#    ... checked ...
# endif;
#
checkviewbox(
  #-- Title
    "Installation Completed",
  
  #-- Text
    "<#selectbg_g><b>Congratulations...</b></#>\n\n"+
    "<b>"+ini_get("rom_name")+"</b> has been installed onto your device.\n\n"+
    "Installer Status: "+getvar("retstatus")+"\n\n",
	
  #-- Icon
    "@welcome",

  #-- Checkbox Text
    "Reboot your device now.",

  #-- Initial Checkbox value ( 0=unchecked, 1=checked ) -  (Optional, default:0)
    "1",

  #-- Save checked value in variable "reboot_it" (Optional)
    "reboot_it"
);

###
#
# Check if reboot checkbox was checked
if
  getvar("reboot_it")=="1"
then
  #
  # reboot("onfinish");   - Reboot if anything finished
  # reboot("now");        - Reboot Directly
  # reboot("disable");    - If you set reboot("onfinish") before, use this command to revert it.
  #
  reboot("onfinish");
endif;

#---- FINISH
